{
  "$schema": "https://kitn.dev/schema/registry-item.json",
  "name": "hackernews-tool",
  "type": "kitn:tool",
  "description": "Fetch top stories and story details from Hacker News via Firebase API",
  "dependencies": [
    "ai",
    "zod"
  ],
  "registryDependencies": [],
  "envVars": {},
  "files": [
    {
      "path": "tools/hackernews.ts",
      "content": "import { tool } from \"ai\";\nimport { z } from \"zod\";\n\nconst HN_BASE = \"https://hacker-news.firebaseio.com/v0\";\n\nexport const hackernewsTopStoriesTool = tool({\n  description:\n    \"Get the current top stories from Hacker News. Returns a list of stories with titles, scores, and URLs.\",\n  inputSchema: z.object({\n    limit: z\n      .number()\n      .min(1)\n      .max(30)\n      .default(10)\n      .describe(\"Number of top stories to return (max 30)\"),\n  }),\n  execute: async ({ limit }) => {\n    const response = await fetch(`${HN_BASE}/topstories.json`);\n    if (!response.ok) throw new Error(\"Failed to fetch top stories\");\n\n    const ids: number[] = await response.json();\n    const topIds = ids.slice(0, limit);\n\n    const stories = await Promise.all(\n      topIds.map(async (id) => {\n        const res = await fetch(`${HN_BASE}/item/${id}.json`);\n        if (!res.ok) return null;\n        const item = await res.json();\n        return {\n          id: item.id,\n          title: item.title,\n          url: item.url ?? null,\n          score: item.score,\n          by: item.by,\n          time: new Date(item.time * 1000).toISOString(),\n          descendants: item.descendants ?? 0,\n        };\n      })\n    );\n\n    const validStories = stories.filter(Boolean);\n    return { stories: validStories, count: validStories.length };\n  },\n});\n\nexport const hackernewsStoryDetailTool = tool({\n  description:\n    \"Get detailed information about a specific Hacker News story by its ID, including top comments.\",\n  inputSchema: z.object({\n    storyId: z.number().describe(\"The Hacker News story ID\"),\n  }),\n  execute: async ({ storyId }) => {\n    const response = await fetch(`${HN_BASE}/item/${storyId}.json`);\n    if (!response.ok) throw new Error(`Failed to fetch story ${storyId}`);\n\n    const story = await response.json();\n    if (!story) throw new Error(`Story ${storyId} not found`);\n\n    const commentIds = (story.kids ?? []).slice(0, 5);\n    const comments = await Promise.all(\n      commentIds.map(async (id: number) => {\n        const res = await fetch(`${HN_BASE}/item/${id}.json`);\n        if (!res.ok) return null;\n        const item = await res.json();\n        return {\n          id: item.id,\n          by: item.by,\n          text: item.text?.slice(0, 500) ?? \"\",\n          time: new Date(item.time * 1000).toISOString(),\n        };\n      })\n    );\n\n    return {\n      id: story.id,\n      title: story.title,\n      url: story.url ?? null,\n      score: story.score,\n      by: story.by,\n      time: new Date(story.time * 1000).toISOString(),\n      descendants: story.descendants ?? 0,\n      text: story.text ?? null,\n      topComments: comments.filter(Boolean),\n    };\n  },\n});\n",
      "type": "kitn:tool"
    }
  ],
  "docs": "Provides two tools: hackernewsTopStoriesTool (fetch trending stories) and hackernewsStoryDetailTool (get story details with top comments).",
  "categories": [
    "hackernews",
    "api",
    "news"
  ],
  "version": "1.0.0",
  "updatedAt": "2026-02-25T18:59:36.490Z"
}
