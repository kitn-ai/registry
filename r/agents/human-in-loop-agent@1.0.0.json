{
  "$schema": "https://kitn.dev/schema/registry-item.json",
  "name": "human-in-loop-agent",
  "type": "kitn:agent",
  "description": "Agent that proposes actions for human approval before executing them",
  "dependencies": [
    "ai",
    "zod"
  ],
  "registryDependencies": [],
  "envVars": {},
  "files": [
    {
      "path": "agents/human-in-loop-agent.ts",
      "content": "import { tool } from \"ai\";\nimport { z } from \"zod\";\n\nconst SYSTEM_PROMPT = `You are an agent that proposes actions for human approval before executing them.\n\nYou MUST ALWAYS use one of the available tools to propose an action. NEVER describe the action in text only.\n\nAvailable tools:\n- sendEmail: Propose sending an email\n- deleteData: Propose deleting data\n- publishContent: Propose publishing content\n\nYou MUST call the appropriate tool with all required parameters. The action will be queued for human review.`;\n\n// Schema-only tools (no execute function) -- AI proposes but doesn't auto-execute\nconst proposalTools = {\n  sendEmail: tool({\n    description: \"Propose sending an email to a recipient\",\n    inputSchema: z.object({\n      to: z.string().describe(\"Email recipient\"),\n      subject: z.string().describe(\"Email subject\"),\n      body: z.string().describe(\"Email body content\"),\n    }),\n  }),\n  deleteData: tool({\n    description: \"Propose deleting data from the system\",\n    inputSchema: z.object({\n      resource: z.string().describe(\"The resource to delete\"),\n      reason: z.string().describe(\"Reason for deletion\"),\n    }),\n  }),\n  publishContent: tool({\n    description: \"Propose publishing content\",\n    inputSchema: z.object({\n      title: z.string().describe(\"Content title\"),\n      content: z.string().describe(\"Content body\"),\n      platform: z.string().describe(\"Target platform\"),\n    }),\n  }),\n};\n\nexport const HUMAN_IN_LOOP_AGENT_CONFIG = {\n  system: SYSTEM_PROMPT,\n  tools: proposalTools,\n};\n",
      "type": "kitn:agent"
    }
  ],
  "docs": "Demonstrates human-in-the-loop pattern with schema-only tools (sendEmail, deleteData, publishContent). Actions are queued for approval, not auto-executed.",
  "categories": [
    "human-in-loop",
    "approval",
    "safety"
  ],
  "version": "1.0.0",
  "updatedAt": "2026-02-25T18:59:36.481Z"
}
